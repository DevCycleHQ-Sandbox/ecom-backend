{"version":3,"file":"populatedUser.js","sourceRoot":"","sources":["../../../../../../../sdk/js-cloud-server/src/models/populatedUser.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,gEAAiD;AAajD,MAAa,gBAAgB;IAmBzB,YAAY,IAAkB,EAAE,eAAwC;QACpE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAA;QAC3B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAA;QACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAA;QACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAA;QAC7B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAA;QAC3B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAA;QACjC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAA;QAC7B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,CAAA;QACjC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,iBAAiB,CAAA;QAC/C,IAAI,CAAC,YAAY,GAAG,IAAI,IAAI,EAAE,CAAA;QAE9B;;WAEG;QACH,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,CAAA;QAC7B,IAAI,CAAC,QAAQ,GAAG,CAAA,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,QAAQ,KAAI,QAAQ,CAAA;QACrD,IAAI,CAAC,eAAe,GAAG,CAAA,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,eAAe,KAAI,EAAE,CAAA;QAC7D,IAAI,CAAC,OAAO,GAAG,CAAA,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,OAAO,KAAI,QAAQ,CAAA;QACnD,IAAI,CAAC,UAAU,GAAG,CAAA,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,UAAU,KAAI,WAAW,CAAC,OAAO,CAAA;QACpE,IAAI,CAAC,WAAW,GAAG,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,WAAW,CAAA;QAC/C,IAAI,CAAC,QAAQ,GAAG,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAE,QAAQ,CAAA;IAC7C,CAAC;IAED,MAAM,CAAC,WAAW,CACd,IAAkB,EAClB,eAAwC;QAExC,OAAO,IAAI,gBAAgB,CAAC,IAAI,EAAE,eAAe,CAAC,CAAA;IACtD,CAAC;CACJ;AAjDD,4CAiDC","sourcesContent":["import { DVCCustomDataJSON } from '../types'\nimport * as packageJson from '../../package.json'\nimport { DevCycleUser } from './user'\nimport { SDKTypes } from '@devcycle/types'\n\nexport type DevCyclePlatformDetails = {\n    platform?: string\n    platformVersion?: string\n    sdkType?: SDKTypes\n    sdkVersion?: string\n    sdkPlatform?: string\n    hostname?: string\n}\n\nexport class DVCPopulatedUser implements DevCycleUser {\n    user_id: string\n    email?: string\n    name?: string\n    language?: string\n    country?: string\n    appVersion?: string\n    appBuild?: number\n    customData?: DVCCustomDataJSON\n    privateCustomData?: DVCCustomDataJSON\n    readonly lastSeenDate: Date\n    readonly createdDate: Date\n    readonly platform: string\n    readonly platformVersion: string\n    readonly sdkType: SDKTypes\n    readonly sdkVersion: string\n    readonly sdkPlatform?: string\n    readonly hostname?: string\n\n    constructor(user: DevCycleUser, platformDetails: DevCyclePlatformDetails) {\n        this.user_id = user.user_id\n        this.email = user.email\n        this.name = user.name\n        this.language = user.language\n        this.country = user.country\n        this.appVersion = user.appVersion\n        this.appBuild = user.appBuild\n        this.customData = user.customData\n        this.privateCustomData = user.privateCustomData\n        this.lastSeenDate = new Date()\n\n        /**\n         * Read only properties initialized once\n         */\n        this.createdDate = new Date()\n        this.platform = platformDetails?.platform || 'NodeJS'\n        this.platformVersion = platformDetails?.platformVersion || ''\n        this.sdkType = platformDetails?.sdkType || 'server'\n        this.sdkVersion = platformDetails?.sdkVersion || packageJson.version\n        this.sdkPlatform = platformDetails?.sdkPlatform\n        this.hostname = platformDetails?.hostname\n    }\n\n    static fromDVCUser(\n        user: DevCycleUser,\n        platformDetails: DevCyclePlatformDetails,\n    ): DVCPopulatedUser {\n        return new DVCPopulatedUser(user, platformDetails)\n    }\n}\n"]}
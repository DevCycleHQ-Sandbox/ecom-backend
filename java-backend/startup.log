🚀 Starting Java Backend Server with OpenTelemetry...
📋 Loading environment variables from .env file...
📡 Using DYNATRACE OTLP endpoint: https://xtc47953.live.dynatrace.com/api/v2/otlp
📊 Enabled OTLP export for traces, metrics, and logs with bridge
🔧 Configuration:
  Port: 3002
  Environment: development
  Database: ./database.sqlite
  Frontend URL: http://localhost:3000
  OTLP Endpoint: https://xtc47953.live.dynatrace.com/api/v2/otlp

🔍 Checking dependencies...
✅ Starting with OpenTelemetry instrumentation...

💡 Running Maven with Spring Boot and OpenTelemetry agent...
[INFO] Scanning for projects...
[INFO] 
[INFO] ----------------------< com.shopper:java-backend >----------------------
[INFO] Building Java Backend 1.0.0
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- clean:3.3.2:clean (default-clean) @ java-backend ---
[INFO] Deleting /Users/suthar/dev/shopper/backend/java-backend/target
[INFO] 
[INFO] >>> spring-boot:3.2.0:run (default-cli) > test-compile @ java-backend >>>
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ java-backend ---
[INFO] Copying 4 resources from src/main/resources to target/classes
[INFO] Copying 2 resources from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.11.0:compile (default-compile) @ java-backend ---
[INFO] Changes detected - recompiling the module! :source
[INFO] Compiling 55 source files with javac [debug release 17] to target/classes
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ java-backend ---
[INFO] Copying 1 resource from src/test/resources to target/test-classes
[INFO] 
[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ java-backend ---
[INFO] Changes detected - recompiling the module! :dependency
[INFO] Compiling 7 source files with javac [debug release 17] to target/test-classes
[INFO] 
[INFO] <<< spring-boot:3.2.0:run (default-cli) < test-compile @ java-backend <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot:3.2.0:run (default-cli) @ java-backend ---
[INFO] Attaching agents: []
OpenJDK 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
[otel.javaagent 2025-09-04 14:46:26:230 -0400] [main] INFO io.opentelemetry.javaagent.tooling.VersionLogger - opentelemetry-javaagent - version: 2.17.1
WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release
WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release
ERROR StatusConsoleListener Error processing element EventTemplateAdditionalFields ([JsonTemplateLayout: null]): CLASS_NOT_FOUND
WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release
WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release
WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release
WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release
WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release
WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release
WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release
WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release
ERROR StatusConsoleListener Error processing element EventTemplateAdditionalFields ([JsonTemplateLayout: null]): CLASS_NOT_FOUND
WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release
WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release
WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release
WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release
WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release
WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-09-04 14:46:42.624 [main] INFO  com.shopper.JavaBackendApplication - Starting JavaBackendApplication using Java 18.0.2 with PID 27340 (/Users/suthar/dev/shopper/backend/java-backend/target/classes started by suthar in /Users/suthar/dev/shopper/backend/java-backend)
2025-09-04 14:46:42.654 [main] DEBUG com.shopper.JavaBackendApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-09-04 14:46:42.656 [main] INFO  com.shopper.JavaBackendApplication - The following 1 profile is active: "development"
2025-09-04 14:46:46.923 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-3002"]
2025-09-04 14:46:46.930 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-09-04 14:46:46.930 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-09-04 14:46:47.015 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-04 14:46:48.349 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-09-04 14:46:49.027 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.sqlite.jdbc4.JDBC4Connection@66f99dcc
2025-09-04 14:46:49.036 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-09-04 14:46:58.418 [main] INFO  com.shopper.config.OpenFeatureConfig - ✅ OpenFeature with DevCycle provider initialized successfully
2025-09-04 14:46:58.421 [main] INFO  com.shopper.config.OpenFeatureConfig - 🔍 DevCycle hooks registered for OpenTelemetry tracing and logging
Variable called before DevCycleLocalClient has initialized, returning default value
2025-09-04 14:46:58.478 [main] INFO  com.shopper.config.OpenFeatureConfig - 🎛️ DevCycle feature flag 'use-neon' evaluated to: false for admin user
Variable called before DevCycleLocalClient has initialized, returning default value
2025-09-04 14:46:58.479 [main] INFO  com.shopper.config.OpenFeatureConfig - 🎛️ DevCycle feature flag 'new-flow' evaluated to: false for admin user
2025-09-04 14:46:59.060 [main] DEBUG com.shopper.security.JwtAuthenticationFilter - Filter 'jwtAuthenticationFilter' configured for use
2025-09-04 14:46:59.066 [main] DEBUG org.springframework.web.filter.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-04 14:46:59.206 [main] INFO  com.shopper.config.OpenTelemetryConfig - 📊 OpenTelemetry Java Agent enabled for service: java-backend v1.0.0 (development)
2025-09-04 14:46:59.208 [main] INFO  com.shopper.config.OpenTelemetryConfig - 🔗 OpenTelemetry configured for OTLP endpoint: https://xtc47953.live.dynatrace.com/api/v2/otlp
2025-09-04 14:46:59.208 [main] INFO  com.shopper.config.OpenTelemetryConfig - 🔐 OTLP headers configured for authentication
2025-09-04 14:46:59.210 [main] INFO  com.shopper.config.OpenTelemetryConfig - ✅ Using OpenTelemetry Java Agent for auto-instrumentation
2025-09-04 14:47:00.137 [main] WARN  org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-04 14:47:00.636 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - 49 mappings in 'requestMappingHandlerMapping'
2025-09-04 14:47:00.940 [main] DEBUG org.springframework.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-09-04 14:47:01.265 [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3f00cd13, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3265c228, org.springframework.security.web.context.SecurityContextHolderFilter@2310500a, org.springframework.security.web.header.HeaderWriterFilter@2838450e, org.springframework.web.filter.CorsFilter@82feb0b, org.springframework.security.web.authentication.logout.LogoutFilter@34ec0ebf, com.shopper.security.JwtAuthenticationFilter@51a6748f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38f563e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18f7b7fd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14c84fd6, org.springframework.security.web.session.SessionManagementFilter@12a3b047, org.springframework.security.web.access.ExceptionTranslationFilter@64209d58, org.springframework.security.web.access.intercept.AuthorizationFilter@26dfd907]
2025-09-04 14:47:01.451 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-04 14:47:01.502 [main] DEBUG org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-04 14:47:01.996 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-3002"]
2025-09-04 14:47:02.062 [main] INFO  com.shopper.JavaBackendApplication - Started JavaBackendApplication in 25.174 seconds (process running for 36.264)
🚀 Java Backend Server is running!
2025-09-04 14:47:09.135 [http-nio-3002-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-04 14:47:09.136 [http-nio-3002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-04 14:47:09.136 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-04 14:47:09.136 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-04 14:47:09.136 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-04 14:47:09.137 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@15ff0f79
2025-09-04 14:47:09.138 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@5c8c42f9
2025-09-04 14:47:09.138 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-04 14:47:09.138 [http-nio-3002-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-09-04 14:47:09.243 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:47:09.285 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - No Authorization header or Bearer token found
2025-09-04 14:47:09.286 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - No username extracted from JWT token
2025-09-04 14:47:09.295 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:47:09.298 [http-nio-3002-exec-1] WARN  org.springframework.web.servlet.handler.HandlerMappingIntrospector - Cache miss for REQUEST dispatch to '/api/products' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-09-04 14:47:09.314 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:47:09.318 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:47:09.320 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:47:09.320 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [Anonymous] - Request started
2025-09-04 14:47:09.344 [http-nio-3002-exec-1] INFO  com.shopper.service.FeatureFlagService - Feature flags initialized with default values
2025-09-04 14:47:14.698 [http-nio-3002-exec-1] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:47:14.698 [http-nio-3002-exec-1] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: anonymous
2025-09-04 14:47:14.698 [http-nio-3002-exec-1] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: anonymous
2025-09-04 14:47:14.701 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:47:14.780 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:47:14.999 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:47:15.021 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:47:15.080 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [Anonymous] - 200 (5759ms)
2025-09-04 14:47:15.082 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:09.407 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-04 14:48:09.407 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing POST /auth/login
2025-09-04 14:48:09.427 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:48:09.427 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:48:09.441 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-04 14:48:09.441 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured POST /auth/login
2025-09-04 14:48:09.442 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-04 14:48:09.442 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/api/auth/login", parameters={}
2025-09-04 14:48:09.442 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.AuthController#login(LoginDto)
2025-09-04 14:48:09.442 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.AuthController#login(LoginDto)
2025-09-04 14:48:09.443 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 POST /api/auth/login [Anonymous] - Request started
2025-09-04 14:48:09.443 [http-nio-3002-exec-3] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 POST /api/auth/login [Anonymous] - Request started
2025-09-04 14:48:09.480 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginDto(username=user, password=password)]
2025-09-04 14:48:09.480 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginDto(username=admin, password=password)]
2025-09-04 14:48:09.717 [http-nio-3002-exec-3] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:09.717 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:09.764 [http-nio-3002-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:09.764 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:09.918 [http-nio-3002-exec-2] DEBUG org.springframework.security.authentication.dao.DaoAuthenticationProvider - Authenticated user
2025-09-04 14:48:09.918 [http-nio-3002-exec-3] DEBUG org.springframework.security.authentication.dao.DaoAuthenticationProvider - Authenticated user
2025-09-04 14:48:09.919 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:09.919 [http-nio-3002-exec-3] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:09.924 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:09.924 [http-nio-3002-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:09.930 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:09.930 [http-nio-3002-exec-3] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:09.935 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:09.935 [http-nio-3002-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:10.154 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:10.154 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:10.164 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [AuthResponseDto(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzU3MDExNjkwLCJleHAiOjE3NTcwO (truncated)...]
2025-09-04 14:48:10.164 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [AuthResponseDto(token=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NzAxMTY5MCwiZXhwIjoxNzU3M (truncated)...]
2025-09-04 14:48:10.178 [http-nio-3002-exec-3] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ POST /api/auth/login [Anonymous] - 200 (735ms)
2025-09-04 14:48:10.178 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ POST /api/auth/login [Anonymous] - 200 (734ms)
2025-09-04 14:48:10.181 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:10.181 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:10.197 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:10.290 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:48:10.293 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:48:10.294 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:10.350 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:10.362 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:48:10.366 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:48:10.366 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:48:10.380 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:10.381 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:10.382 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:10.383 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:48:12.519 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:12.527 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:48:12.529 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:48:12.529 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:12.535 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:12.541 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:48:12.544 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:48:12.544 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:48:12.553 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:12.553 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:12.556 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:12.557 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:48:13.176 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:13.181 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:48:13.187 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:48:13.188 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:13.193 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:13.195 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:48:13.197 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:48:13.198 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:48:13.204 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:13.204 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:13.209 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:13.209 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:48:15.294 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:15.305 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:48:15.308 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:48:15.309 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:15.313 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:15.317 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:48:15.318 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:48:15.319 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:48:15.327 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:15.328 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:15.329 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:15.329 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:48:15.394 [http-nio-3002-exec-2] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:15.394 [http-nio-3002-exec-2] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:48:15.394 [http-nio-3002-exec-2] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:48:15.400 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: admin] - 200 (5017ms) [Error in findAll]
2025-09-04 14:48:15.401 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:48:15.415 [http-nio-3002-exec-2] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:48:15.438 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:48:15.453 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:48:15.454 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:48:15.459 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:48:15.460 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:48:15.460 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:48:15.476 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:15.477 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:48:15 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:48:15.486 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (26ms)
2025-09-04 14:48:15.495 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:48:15.953 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:15.956 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:48:15.956 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:48:15.956 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:15.958 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:15.959 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:48:15.960 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:48:15.961 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:48:15.966 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:15.971 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:15.974 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:15.974 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:48:15.976 [http-nio-3002-exec-7] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:15.976 [http-nio-3002-exec-7] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:48:15.977 [http-nio-3002-exec-7] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:48:15.977 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:15.984 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:16.015 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:16.018 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:16.025 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (51ms)
2025-09-04 14:48:16.026 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:17.511 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:17.518 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:48:17.519 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:48:17.519 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:17.523 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:17.525 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:48:17.528 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:48:17.528 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:48:17.536 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:17.537 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:17.540 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:17.540 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:48:17.543 [http-nio-3002-exec-8] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:17.543 [http-nio-3002-exec-8] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:48:17.544 [http-nio-3002-exec-8] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:48:17.544 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:17.545 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:17.566 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:17.570 [http-nio-3002-exec-4] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:17.571 [http-nio-3002-exec-4] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:48:17.571 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:17.571 [http-nio-3002-exec-4] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:48:17.571 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:17.572 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:17.577 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (37ms)
2025-09-04 14:48:17.578 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:17.590 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:17.593 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:17.600 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5043ms)
2025-09-04 14:48:17.601 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:18.213 [http-nio-3002-exec-5] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:18.214 [http-nio-3002-exec-5] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:48:18.214 [http-nio-3002-exec-5] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:48:18.214 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:18.215 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:18.231 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:18.233 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:18.238 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5029ms)
2025-09-04 14:48:18.238 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:20.335 [http-nio-3002-exec-6] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:20.335 [http-nio-3002-exec-6] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:48:20.335 [http-nio-3002-exec-6] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:48:20.336 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:20.338 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:20.356 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:20.358 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:20.362 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5033ms)
2025-09-04 14:48:20.363 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:21.848 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:21.850 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:48:21.850 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:48:21.850 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:21.853 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:21.855 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:48:21.857 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:48:21.857 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:48:21.866 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:21.867 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:21.870 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:21.871 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:48:21.873 [http-nio-3002-exec-9] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:21.874 [http-nio-3002-exec-9] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:48:21.875 [http-nio-3002-exec-9] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:48:21.875 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:21.877 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:21.894 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:21.898 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:21.904 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (33ms)
2025-09-04 14:48:21.904 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
[otel.javaagent 2025-09-04 14:48:25:064 -0400] [OkHttp https://xtc47953.live.dynatrace.com/...] ERROR io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export logs. The request could not be executed. Full error message: timeout
java.io.InterruptedIOException: timeout
	at okhttp3.internal.connection.RealCall.timeoutExit(RealCall.kt:398)
	at okhttp3.internal.connection.RealCall.callDone(RealCall.kt:360)
	at okhttp3.internal.connection.RealCall.noMoreExchanges$okhttp(RealCall.kt:325)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:209)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.io.IOException: Canceled
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:72)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at io.opentelemetry.exporter.sender.okhttp.internal.RetryInterceptor.intercept(RetryInterceptor.java:96)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	... 4 more
2025-09-04 14:48:25.667 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:25.670 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:48:25.671 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:48:25.671 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:25.674 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:25.675 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:48:25.677 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:48:25.677 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:48:25.680 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:25.683 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:25.684 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:25.685 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
[otel.javaagent 2025-09-04 14:48:25:792 -0400] [OkHttp https://xtc47953.live.dynatrace.com/...] ERROR io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export spans. The request could not be executed. Full error message: timeout
java.io.InterruptedIOException: timeout
	at okhttp3.internal.connection.RealCall.timeoutExit(RealCall.kt:398)
	at okhttp3.internal.connection.RealCall.callDone(RealCall.kt:360)
	at okhttp3.internal.connection.RealCall.noMoreExchanges$okhttp(RealCall.kt:325)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:209)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.io.IOException: Canceled
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:72)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at io.opentelemetry.exporter.sender.okhttp.internal.RetryInterceptor.intercept(RetryInterceptor.java:96)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	... 4 more
2025-09-04 14:48:27.474 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:27.482 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:48:27.485 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:48:27.486 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:27.494 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:27.496 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:48:27.497 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:48:27.498 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:48:27.501 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:27.501 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:27.502 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:27.502 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:48:28.731 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:28.738 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:48:28.739 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:48:28.739 [http-nio-3002-exec-3] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:28.744 [http-nio-3002-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:28.746 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:48:28.747 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:48:28.748 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:48:28.755 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:28.755 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:28.758 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:28.758 [http-nio-3002-exec-3] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:48:30.696 [http-nio-3002-exec-10] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:30.697 [http-nio-3002-exec-10] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:48:30.698 [http-nio-3002-exec-10] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:48:30.699 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:30.700 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:30.717 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:30.719 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:30.729 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5044ms)
2025-09-04 14:48:30.729 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:31.107 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:31.110 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:48:31.111 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:48:31.112 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:31.116 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:31.120 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:48:31.121 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:48:31.122 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:48:31.124 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:31.124 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:31.126 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:31.126 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:48:31.128 [http-nio-3002-exec-2] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:31.128 [http-nio-3002-exec-2] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:48:31.128 [http-nio-3002-exec-2] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:48:31.128 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:31.129 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:31.145 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:31.147 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:31.152 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (26ms)
2025-09-04 14:48:31.153 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:31.663 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:31.671 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:48:31.672 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:48:31.673 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:31.676 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:31.678 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:48:31.679 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:48:31.679 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:48:31.685 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:31.686 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:31.687 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:31.687 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:48:31.688 [http-nio-3002-exec-7] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:31.689 [http-nio-3002-exec-7] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:48:31.689 [http-nio-3002-exec-7] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:48:31.689 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:31.690 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:31.708 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:31.710 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:31.716 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (29ms)
2025-09-04 14:48:31.716 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:32.398 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:32.401 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:48:32.401 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:48:32.401 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:32.405 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:32.406 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:48:32.407 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:48:32.407 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:48:32.413 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:32.413 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:32.413 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:32.413 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:48:32.416 [http-nio-3002-exec-8] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:32.417 [http-nio-3002-exec-8] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:48:32.418 [http-nio-3002-exec-8] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:48:32.419 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: user] - 200 (5ms) [Error in findAll]
2025-09-04 14:48:32.419 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:48:32.423 [http-nio-3002-exec-8] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:48:32.435 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:48:32.442 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:48:32.442 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:48:32.445 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:48:32.446 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:48:32.446 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:48:32.447 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:32.447 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:48:32 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:48:32.449 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (3ms)
2025-09-04 14:48:32.449 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:48:32.507 [http-nio-3002-exec-1] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:32.507 [http-nio-3002-exec-1] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:48:32.507 [http-nio-3002-exec-1] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:48:32.508 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:32.510 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:32.526 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:32.528 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:32.533 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5031ms)
2025-09-04 14:48:32.533 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:33.767 [http-nio-3002-exec-3] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:33.767 [http-nio-3002-exec-3] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:48:33.767 [http-nio-3002-exec-3] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:48:33.767 [http-nio-3002-exec-3] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: admin] - 200 (5009ms) [Error in findAll]
2025-09-04 14:48:33.768 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:48:33.770 [http-nio-3002-exec-3] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:48:33.772 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:48:33.776 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:48:33.776 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:48:33.777 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:48:33.777 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:48:33.777 [http-nio-3002-exec-3] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:48:33.778 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:33.778 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:48:33 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:48:33.779 [http-nio-3002-exec-3] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (2ms)
2025-09-04 14:48:33.783 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
[otel.javaagent 2025-09-04 14:48:36:093 -0400] [OkHttp https://xtc47953.live.dynatrace.com/...] ERROR io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export logs. The request could not be executed. Full error message: timeout
java.io.InterruptedIOException: timeout
	at okhttp3.internal.connection.RealCall.timeoutExit(RealCall.kt:398)
	at okhttp3.internal.connection.RealCall.callDone(RealCall.kt:360)
	at okhttp3.internal.connection.RealCall.noMoreExchanges$okhttp(RealCall.kt:325)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:209)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.io.IOException: Canceled
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:72)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at io.opentelemetry.exporter.sender.okhttp.internal.RetryInterceptor.intercept(RetryInterceptor.java:96)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	... 4 more
2025-09-04 14:48:36.873 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:36.875 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:48:36.876 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:48:36.876 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:36.881 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:36.884 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:48:36.887 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:48:36.887 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:48:36.895 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:36.895 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:36.899 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:36.899 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:48:36.901 [http-nio-3002-exec-4] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:36.901 [http-nio-3002-exec-4] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:48:36.902 [http-nio-3002-exec-4] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:48:36.903 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:36.904 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:36.918 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:36.919 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:36.922 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (23ms)
2025-09-04 14:48:36.922 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
DevCycle Events error: timeout
DevCycle Error Publishing Events: 500
2025-09-04 14:48:38.572 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:38.585 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:48:38.585 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:48:38.585 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:38.589 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:38.590 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:48:38.591 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:48:38.592 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:48:38.595 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:38.595 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:38.595 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:38.595 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:48:38.598 [http-nio-3002-exec-5] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:38.599 [http-nio-3002-exec-5] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:48:38.599 [http-nio-3002-exec-5] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:48:38.599 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:38.601 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:38.615 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:38.616 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:38.619 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (24ms)
2025-09-04 14:48:38.620 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:39.593 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:39.601 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:48:39.602 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:48:39.602 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:39.606 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:39.618 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:48:39.620 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:48:39.620 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:48:39.624 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:39.624 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:39.625 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:39.625 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:48:40.661 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:40.662 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:48:40.662 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:48:40.663 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:40.666 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:40.667 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:48:40.668 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:48:40.668 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:48:40.670 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:40.670 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:40.671 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:40.671 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
[otel.javaagent 2025-09-04 14:48:40:810 -0400] [OkHttp https://xtc47953.live.dynatrace.com/...] ERROR io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export spans. The request could not be executed. Full error message: timeout
java.io.InterruptedIOException: timeout
	at okhttp3.internal.connection.RealCall.timeoutExit(RealCall.kt:398)
	at okhttp3.internal.connection.RealCall.callDone(RealCall.kt:360)
	at okhttp3.internal.connection.RealCall.noMoreExchanges$okhttp(RealCall.kt:325)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:209)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.io.IOException: Canceled
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:72)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at io.opentelemetry.exporter.sender.okhttp.internal.RetryInterceptor.intercept(RetryInterceptor.java:96)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	... 4 more
2025-09-04 14:48:41.330 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:41.332 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:48:41.333 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:48:41.333 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:41.336 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:41.337 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:48:41.338 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:48:41.338 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:48:41.340 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:41.340 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:41.340 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:41.340 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:48:43.529 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:43.531 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:48:43.532 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:48:43.532 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:43.535 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:43.537 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:48:43.540 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:48:43.540 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:48:43.542 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:43.542 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:43.542 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:43.542 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
[otel.javaagent 2025-09-04 14:48:44:349 -0400] [OkHttp https://xtc47953.live.dynatrace.com/...] ERROR io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export metrics. The request could not be executed. Full error message: timeout
java.io.InterruptedIOException: timeout
	at okhttp3.internal.connection.RealCall.timeoutExit(RealCall.kt:398)
	at okhttp3.internal.connection.RealCall.callDone(RealCall.kt:360)
	at okhttp3.internal.connection.RealCall.noMoreExchanges$okhttp(RealCall.kt:325)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:209)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.io.IOException: Canceled
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:72)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at io.opentelemetry.exporter.sender.okhttp.internal.RetryInterceptor.intercept(RetryInterceptor.java:96)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	... 4 more
2025-09-04 14:48:44.631 [http-nio-3002-exec-6] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:44.633 [http-nio-3002-exec-6] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:48:44.634 [http-nio-3002-exec-6] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:48:44.634 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:44.635 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:44.651 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:44.652 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:44.658 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5033ms)
2025-09-04 14:48:44.658 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:45.676 [http-nio-3002-exec-9] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:45.676 [http-nio-3002-exec-9] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:48:45.677 [http-nio-3002-exec-9] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:48:45.677 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:45.678 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:45.691 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:45.692 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:45.696 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5025ms)
2025-09-04 14:48:45.697 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:46.346 [http-nio-3002-exec-10] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:46.349 [http-nio-3002-exec-10] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:48:46.352 [http-nio-3002-exec-10] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:48:46.352 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:46.354 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:46.367 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:46.368 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:46.372 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5032ms)
2025-09-04 14:48:46.373 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
[otel.javaagent 2025-09-04 14:48:47:112 -0400] [OkHttp https://xtc47953.live.dynatrace.com/...] ERROR io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export logs. The request could not be executed. Full error message: timeout
java.io.InterruptedIOException: timeout
	at okhttp3.internal.connection.RealCall.timeoutExit(RealCall.kt:398)
	at okhttp3.internal.connection.RealCall.callDone(RealCall.kt:360)
	at okhttp3.internal.connection.RealCall.noMoreExchanges$okhttp(RealCall.kt:325)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:209)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.io.IOException: Canceled
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:72)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at io.opentelemetry.exporter.sender.okhttp.internal.RetryInterceptor.intercept(RetryInterceptor.java:96)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	... 4 more
2025-09-04 14:48:47.667 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:47.672 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:48:47.674 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:48:47.675 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:47.679 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:47.680 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:48:47.682 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:48:47.682 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:48:47.684 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:47.690 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:47.691 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:47.691 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:48:47.693 [http-nio-3002-exec-7] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:47.693 [http-nio-3002-exec-7] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:48:47.693 [http-nio-3002-exec-7] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:48:47.693 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:47.695 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:47.711 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:47.713 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:47.717 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (26ms)
2025-09-04 14:48:47.718 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
DevCycle Events error: timeout
DevCycle Error Publishing Events: 500
2025-09-04 14:48:48.551 [http-nio-3002-exec-2] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:48.552 [http-nio-3002-exec-2] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:48:48.552 [http-nio-3002-exec-2] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:48:48.552 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:48.554 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:48.575 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:48.577 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:48.582 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5040ms)
2025-09-04 14:48:48.582 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:48.814 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:48.826 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:48:48.826 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:48:48.826 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:48.833 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:48.834 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:48:48.836 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:48:48.837 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:48:48.846 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:48.848 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:48.849 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:48.849 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:48:48.852 [http-nio-3002-exec-8] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:48.852 [http-nio-3002-exec-8] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:48:48.852 [http-nio-3002-exec-8] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:48:48.852 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:48.853 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:48.866 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:48.867 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:48.870 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (21ms)
2025-09-04 14:48:48.871 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:52.797 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:52.808 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:48:52.809 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:48:52.809 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:52.812 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:52.813 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:48:52.818 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:48:52.818 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:48:52.820 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:52.820 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:52.820 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:52.820 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:48:52.823 [http-nio-3002-exec-1] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:48:52.823 [http-nio-3002-exec-1] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:48:52.823 [http-nio-3002-exec-1] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:48:52.823 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:52.824 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:48:52.843 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:48:52.845 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:48:52.849 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (29ms)
2025-09-04 14:48:52.849 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:48:55.340 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:48:55.343 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:48:55.343 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:48:55.344 [http-nio-3002-exec-3] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:48:55.351 [http-nio-3002-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:48:55.352 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:48:55.353 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:48:55.353 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:48:55.355 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:48:55.355 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:48:55.356 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:48:55.356 [http-nio-3002-exec-3] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
[otel.javaagent 2025-09-04 14:48:55:826 -0400] [OkHttp https://xtc47953.live.dynatrace.com/...] ERROR io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export spans. The request could not be executed. Full error message: timeout
java.io.InterruptedIOException: timeout
	at okhttp3.internal.connection.RealCall.timeoutExit(RealCall.kt:398)
	at okhttp3.internal.connection.RealCall.callDone(RealCall.kt:360)
	at okhttp3.internal.connection.RealCall.noMoreExchanges$okhttp(RealCall.kt:325)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:209)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.io.IOException: Canceled
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:72)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at io.opentelemetry.exporter.sender.okhttp.internal.RetryInterceptor.intercept(RetryInterceptor.java:96)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	... 4 more
[otel.javaagent 2025-09-04 14:48:58:136 -0400] [OkHttp https://xtc47953.live.dynatrace.com/...] ERROR io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export logs. The request could not be executed. Full error message: timeout
java.io.InterruptedIOException: timeout
	at okhttp3.internal.connection.RealCall.timeoutExit(RealCall.kt:398)
	at okhttp3.internal.connection.RealCall.callDone(RealCall.kt:360)
	at okhttp3.internal.connection.RealCall.noMoreExchanges$okhttp(RealCall.kt:325)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:209)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.io.IOException: Canceled
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:72)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at io.opentelemetry.exporter.sender.okhttp.internal.RetryInterceptor.intercept(RetryInterceptor.java:96)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	... 4 more
2025-09-04 14:49:00.251 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:00.255 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:49:00.255 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:49:00.255 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:00.259 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:00.260 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:49:00.262 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:49:00.262 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:49:00.268 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:00.269 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:00.270 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:00.270 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:49:00.363 [http-nio-3002-exec-3] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:00.364 [http-nio-3002-exec-3] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:49:00.364 [http-nio-3002-exec-3] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:49:00.364 [http-nio-3002-exec-3] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:00.366 [http-nio-3002-exec-3] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:00.384 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:00.386 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:00.391 [http-nio-3002-exec-3] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5035ms)
2025-09-04 14:49:00.392 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:04.374 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:04.380 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:49:04.380 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:49:04.381 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:04.388 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:04.391 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:49:04.392 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:49:04.393 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:49:04.396 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:04.396 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:04.397 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:04.397 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:49:04.401 [http-nio-3002-exec-5] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:04.401 [http-nio-3002-exec-5] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:49:04.401 [http-nio-3002-exec-5] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:49:04.401 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:04.403 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:04.420 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:04.421 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:04.425 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (28ms)
2025-09-04 14:49:04.425 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:05.277 [http-nio-3002-exec-4] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:05.278 [http-nio-3002-exec-4] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:49:05.278 [http-nio-3002-exec-4] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:49:05.278 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:05.282 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:05.300 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:05.301 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:05.307 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5037ms)
2025-09-04 14:49:05.307 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:06.507 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:06.508 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:49:06.509 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:49:06.509 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:06.514 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:06.515 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:49:06.516 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:49:06.516 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:49:06.518 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:06.520 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:06.521 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:06.521 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:49:06.524 [http-nio-3002-exec-6] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:06.525 [http-nio-3002-exec-6] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:49:06.525 [http-nio-3002-exec-6] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:49:06.525 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:06.529 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:06.546 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:06.547 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:06.551 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (30ms)
2025-09-04 14:49:06.551 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
[otel.javaagent 2025-09-04 14:49:09:144 -0400] [OkHttp https://xtc47953.live.dynatrace.com/...] ERROR io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export logs. The request could not be executed. Full error message: timeout
java.io.InterruptedIOException: timeout
	at okhttp3.internal.connection.RealCall.timeoutExit(RealCall.kt:398)
	at okhttp3.internal.connection.RealCall.callDone(RealCall.kt:360)
	at okhttp3.internal.connection.RealCall.noMoreExchanges$okhttp(RealCall.kt:325)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:209)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.io.IOException: Canceled
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:72)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at io.opentelemetry.exporter.sender.okhttp.internal.RetryInterceptor.intercept(RetryInterceptor.java:96)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	... 4 more
2025-09-04 14:49:10.018 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:10.026 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:49:10.027 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:49:10.027 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:10.029 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:10.031 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:49:10.032 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:49:10.032 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:49:10.035 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:10.035 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:10.035 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:10.035 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:49:10.037 [http-nio-3002-exec-9] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:10.037 [http-nio-3002-exec-9] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:49:10.037 [http-nio-3002-exec-9] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:49:10.037 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:10.040 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:10.054 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:10.055 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:10.058 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (23ms)
2025-09-04 14:49:10.058 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
[otel.javaagent 2025-09-04 14:49:10:841 -0400] [OkHttp https://xtc47953.live.dynatrace.com/...] ERROR io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export spans. The request could not be executed. Full error message: timeout
java.io.InterruptedIOException: timeout
	at okhttp3.internal.connection.RealCall.timeoutExit(RealCall.kt:398)
	at okhttp3.internal.connection.RealCall.callDone(RealCall.kt:360)
	at okhttp3.internal.connection.RealCall.noMoreExchanges$okhttp(RealCall.kt:325)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:209)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.io.IOException: Canceled
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:72)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at io.opentelemetry.exporter.sender.okhttp.internal.RetryInterceptor.intercept(RetryInterceptor.java:96)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	... 4 more
DevCycle Events error: Read timed out
DevCycle Error Publishing Events: 500
2025-09-04 14:49:14.171 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:14.173 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:49:14.174 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:49:14.174 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:14.176 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:14.178 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:49:14.182 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:49:14.182 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:49:14.184 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:14.185 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:14.185 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:14.185 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:49:17.163 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:17.169 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:49:17.169 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:49:17.170 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:17.172 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:17.173 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:49:17.175 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:49:17.175 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:49:17.177 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:17.177 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:17.178 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:17.178 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:49:17.929 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:17.936 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:49:17.937 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:49:17.937 [http-nio-3002-exec-3] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:17.940 [http-nio-3002-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:17.942 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:49:17.943 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:49:17.943 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:49:17.945 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:17.946 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:17.946 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:17.946 [http-nio-3002-exec-3] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:49:19.196 [http-nio-3002-exec-10] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:19.196 [http-nio-3002-exec-10] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:49:19.196 [http-nio-3002-exec-10] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:49:19.197 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:19.199 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:19.223 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:19.225 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:19.230 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5045ms)
2025-09-04 14:49:19.236 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
[otel.javaagent 2025-09-04 14:49:20:155 -0400] [OkHttp https://xtc47953.live.dynatrace.com/...] ERROR io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export logs. The request could not be executed. Full error message: timeout
java.io.InterruptedIOException: timeout
	at okhttp3.internal.connection.RealCall.timeoutExit(RealCall.kt:398)
	at okhttp3.internal.connection.RealCall.callDone(RealCall.kt:360)
	at okhttp3.internal.connection.RealCall.noMoreExchanges$okhttp(RealCall.kt:325)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:209)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.io.IOException: Canceled
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:72)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at io.opentelemetry.exporter.sender.okhttp.internal.RetryInterceptor.intercept(RetryInterceptor.java:96)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	... 4 more
2025-09-04 14:49:20.305 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:20.306 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:49:20.308 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:49:20.308 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:20.310 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:20.311 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:49:20.312 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:49:20.312 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:49:20.315 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:20.315 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:20.316 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:20.316 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:49:20.318 [http-nio-3002-exec-4] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:20.318 [http-nio-3002-exec-4] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:49:20.318 [http-nio-3002-exec-4] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:49:20.318 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:20.319 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:20.333 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:20.335 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:20.340 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (24ms)
2025-09-04 14:49:20.341 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:22.182 [http-nio-3002-exec-2] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:22.183 [http-nio-3002-exec-2] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:49:22.184 [http-nio-3002-exec-2] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:49:22.184 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:22.185 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:22.201 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:22.203 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:22.208 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5030ms)
2025-09-04 14:49:22.208 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:22.952 [http-nio-3002-exec-3] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:22.953 [http-nio-3002-exec-3] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:49:22.953 [http-nio-3002-exec-3] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:49:22.953 [http-nio-3002-exec-3] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:22.955 [http-nio-3002-exec-3] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:22.973 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:22.975 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:22.979 [http-nio-3002-exec-3] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5033ms)
2025-09-04 14:49:22.980 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:23.730 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:23.732 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:49:23.732 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:49:23.732 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:23.735 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:23.736 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:49:23.738 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:49:23.738 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:49:23.740 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:23.740 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:23.740 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:23.741 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:49:23.744 [http-nio-3002-exec-7] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:23.745 [http-nio-3002-exec-7] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:49:23.745 [http-nio-3002-exec-7] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:49:23.745 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:23.746 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:23.764 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:23.766 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:23.771 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (31ms)
2025-09-04 14:49:23.771 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
[otel.javaagent 2025-09-04 14:49:25:849 -0400] [OkHttp https://xtc47953.live.dynatrace.com/...] ERROR io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export spans. The request could not be executed. Full error message: timeout
java.io.InterruptedIOException: timeout
	at okhttp3.internal.connection.RealCall.timeoutExit(RealCall.kt:398)
	at okhttp3.internal.connection.RealCall.callDone(RealCall.kt:360)
	at okhttp3.internal.connection.RealCall.noMoreExchanges$okhttp(RealCall.kt:325)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:209)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.io.IOException: Canceled
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:72)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at io.opentelemetry.exporter.sender.okhttp.internal.RetryInterceptor.intercept(RetryInterceptor.java:96)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	... 4 more
2025-09-04 14:49:28.080 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:28.083 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:49:28.084 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:49:28.084 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:28.086 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:28.087 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:49:28.088 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:49:28.088 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:49:28.089 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:28.089 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:28.089 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:28.090 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:49:30.921 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:30.928 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:49:30.929 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:49:30.929 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:30.936 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:30.939 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:49:30.940 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:49:30.941 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:49:30.943 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:30.943 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:30.943 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:30.944 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:49:31.497 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:31.507 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:49:31.508 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:49:31.509 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:31.512 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:31.520 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:49:31.522 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:49:31.522 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:49:31.527 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:31.528 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:31.528 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:31.528 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:49:32.317 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:32.324 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:49:32.324 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:49:32.324 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:32.326 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:32.327 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:49:32.328 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:49:32.328 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:49:32.329 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:32.330 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:32.340 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:32.344 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:49:33.109 [http-nio-3002-exec-8] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:33.110 [http-nio-3002-exec-8] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:49:33.110 [http-nio-3002-exec-8] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:49:33.115 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: user] - 200 (5025ms) [Error in findAll]
2025-09-04 14:49:33.115 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:49:33.156 [http-nio-3002-exec-8] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:49:33.163 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:49:33.181 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:49:33.182 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:49:33.183 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:49:33.183 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:49:33.183 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:49:33.185 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:33.185 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:49:33 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:49:33.188 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (5ms)
2025-09-04 14:49:33.188 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:49:34.350 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:34.352 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:49:34.352 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:49:34.353 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:34.354 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:34.356 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:49:34.359 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:49:34.359 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:49:34.362 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:34.363 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:34.363 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:34.363 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:49:34.364 [http-nio-3002-exec-9] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:34.365 [http-nio-3002-exec-9] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:49:34.365 [http-nio-3002-exec-9] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:49:34.365 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:34.367 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:34.382 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:34.384 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:34.389 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (26ms)
2025-09-04 14:49:34.389 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:35.947 [http-nio-3002-exec-1] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:35.949 [http-nio-3002-exec-1] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:49:35.949 [http-nio-3002-exec-1] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:49:35.949 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:35.950 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:35.965 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:35.967 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:35.971 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5027ms)
2025-09-04 14:49:35.972 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:36.533 [http-nio-3002-exec-4] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:36.533 [http-nio-3002-exec-4] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:49:36.534 [http-nio-3002-exec-4] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:49:36.534 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:36.535 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:36.553 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:36.556 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:36.561 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5033ms)
2025-09-04 14:49:36.561 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:36.565 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:36.570 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:49:36.570 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:49:36.570 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:36.572 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:36.573 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:49:36.575 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:49:36.575 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:49:36.577 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:36.577 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:36.577 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:36.577 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:49:36.581 [http-nio-3002-exec-7] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:36.581 [http-nio-3002-exec-7] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:49:36.581 [http-nio-3002-exec-7] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:49:36.581 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:36.582 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:36.599 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:36.601 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:36.605 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (27ms)
2025-09-04 14:49:36.605 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:37.353 [http-nio-3002-exec-6] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:37.353 [http-nio-3002-exec-6] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:49:37.353 [http-nio-3002-exec-6] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:49:37.353 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:37.355 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:37.381 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:37.384 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:37.388 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5044ms)
2025-09-04 14:49:37.389 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:37.820 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:37.822 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:49:37.822 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:49:37.822 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:37.824 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:37.825 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:49:37.826 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:49:37.826 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:49:37.827 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:37.828 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:37.828 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:37.828 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:49:37.830 [http-nio-3002-exec-10] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:37.830 [http-nio-3002-exec-10] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:49:37.830 [http-nio-3002-exec-10] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:49:37.830 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:37.831 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:37.853 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:37.855 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:37.858 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (30ms)
2025-09-04 14:49:37.858 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:41.580 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:41.583 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:49:41.583 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:49:41.584 [http-nio-3002-exec-3] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:41.587 [http-nio-3002-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:41.589 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:49:41.590 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:49:41.590 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:49:41.591 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:41.591 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:41.591 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:41.591 [http-nio-3002-exec-3] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:49:41.593 [http-nio-3002-exec-3] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:41.593 [http-nio-3002-exec-3] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:49:41.593 [http-nio-3002-exec-3] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:49:41.593 [http-nio-3002-exec-3] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:41.594 [http-nio-3002-exec-3] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:41.609 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:41.610 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:41.615 [http-nio-3002-exec-3] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (24ms)
2025-09-04 14:49:41.616 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:44.862 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:44.865 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:49:44.866 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:49:44.866 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:44.869 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:44.871 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:49:44.872 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:49:44.873 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:49:44.875 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:44.875 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:44.875 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:44.876 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:49:48.836 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:48.838 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:49:48.838 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:49:48.838 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:48.840 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:48.841 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:49:48.845 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:49:48.845 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:49:48.846 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:48.847 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:48.847 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:48.847 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:49:49.889 [http-nio-3002-exec-2] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:49.890 [http-nio-3002-exec-2] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:49:49.890 [http-nio-3002-exec-2] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:49:49.891 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:49.907 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:49.931 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:49.933 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:49.937 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5061ms)
2025-09-04 14:49:49.937 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:51.026 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:51.028 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:49:51.028 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:49:51.028 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:51.032 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:51.033 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:49:51.041 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:49:51.041 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:49:51.043 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:51.043 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:51.043 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:51.043 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:49:51.044 [http-nio-3002-exec-8] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:51.045 [http-nio-3002-exec-8] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:49:51.045 [http-nio-3002-exec-8] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:49:51.045 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:51.046 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:51.059 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:51.061 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:51.064 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (21ms)
2025-09-04 14:49:51.064 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:53.853 [http-nio-3002-exec-6] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:53.854 [http-nio-3002-exec-6] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:49:53.855 [http-nio-3002-exec-6] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:49:53.855 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:53.856 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:53.873 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:53.875 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:53.879 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5032ms)
2025-09-04 14:49:53.879 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:54.459 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:54.461 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:49:54.462 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:49:54.462 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:54.463 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:54.465 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:49:54.465 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:49:54.466 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:49:54.467 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:54.467 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:54.467 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:54.467 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:49:54.469 [http-nio-3002-exec-9] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:54.469 [http-nio-3002-exec-9] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:49:54.469 [http-nio-3002-exec-9] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:49:54.469 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:54.470 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:54.491 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:54.493 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:54.498 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (31ms)
2025-09-04 14:49:54.498 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:56.955 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:56.959 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:49:56.960 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:49:56.960 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:56.965 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:56.967 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:49:56.968 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:49:56.968 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:49:56.971 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:56.971 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:56.972 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:56.973 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:49:56.976 [http-nio-3002-exec-1] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:56.977 [http-nio-3002-exec-1] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:49:56.977 [http-nio-3002-exec-1] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:49:56.977 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:56.979 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:57.001 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:57.004 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:57.008 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (36ms)
2025-09-04 14:49:57.008 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:49:58.317 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:49:58.321 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:49:58.322 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:49:58.322 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:58.323 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:49:58.325 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:49:58.326 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:49:58.326 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:49:58.332 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:49:58.332 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:49:58.333 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:49:58.333 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:49:58.334 [http-nio-3002-exec-4] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:49:58.334 [http-nio-3002-exec-4] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:49:58.335 [http-nio-3002-exec-4] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:49:58.335 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:49:58.335 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:49:58.352 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:49:58.354 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:49:58.358 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (25ms)
2025-09-04 14:49:58.358 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:50:01.749 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:01.751 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:50:01.751 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:50:01.752 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:01.755 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:01.757 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:50:01.758 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:50:01.758 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:50:01.761 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:01.761 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:01.761 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:01.761 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:50:05.336 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:05.340 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:50:05.340 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:50:05.340 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:05.343 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:05.345 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:50:05.346 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:50:05.346 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:50:05.348 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:05.348 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:05.348 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:05.349 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:50:06.779 [http-nio-3002-exec-10] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:06.779 [http-nio-3002-exec-10] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:50:06.779 [http-nio-3002-exec-10] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:50:06.779 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:06.783 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:50:06.804 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:06.813 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:50:06.820 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5059ms)
2025-09-04 14:50:06.820 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:50:10.111 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:10.112 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:50:10.113 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:50:10.113 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:10.116 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:10.119 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:50:10.119 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:50:10.120 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:50:10.121 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:10.121 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:10.121 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:10.121 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:50:10.123 [http-nio-3002-exec-6] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:10.123 [http-nio-3002-exec-6] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:50:10.123 [http-nio-3002-exec-6] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:50:10.123 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:10.124 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:50:10.137 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:10.139 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:50:10.142 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (21ms)
2025-09-04 14:50:10.142 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:50:10.356 [http-nio-3002-exec-2] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:10.356 [http-nio-3002-exec-2] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:50:10.357 [http-nio-3002-exec-2] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:50:10.358 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: admin] - 200 (5010ms) [Error in findAll]
2025-09-04 14:50:10.358 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:50:10.363 [http-nio-3002-exec-2] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:50:10.369 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:50:10.370 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:50:10.371 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:50:10.371 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:50:10.371 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:50:10.371 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:50:10.372 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:10.372 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:50:10 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:50:10.373 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (2ms)
2025-09-04 14:50:10.373 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:50:13.239 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:13.242 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:50:13.242 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:50:13.242 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:13.247 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:13.251 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:50:13.252 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:50:13.252 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:50:13.253 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:13.253 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:13.253 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:13.253 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:50:13.256 [http-nio-3002-exec-1] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:13.256 [http-nio-3002-exec-1] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:50:13.257 [http-nio-3002-exec-1] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:50:13.257 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:13.259 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:50:13.277 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:13.279 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:50:13.285 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (32ms)
2025-09-04 14:50:13.285 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:50:17.693 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:17.699 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:50:17.699 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:50:17.699 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:17.705 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:17.708 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:50:17.709 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:50:17.709 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:50:17.711 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:17.712 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:17.712 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:17.712 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:50:22.176 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:22.178 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:50:22.178 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:50:22.178 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:22.179 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:22.181 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:50:22.182 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:50:22.182 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:50:22.183 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:22.183 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:22.184 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:22.184 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:50:22.720 [http-nio-3002-exec-4] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:22.720 [http-nio-3002-exec-4] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:50:22.720 [http-nio-3002-exec-4] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:50:22.720 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:22.727 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:50:22.746 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:22.748 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:50:22.753 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5041ms)
2025-09-04 14:50:22.753 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:50:23.931 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:23.934 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:50:23.934 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:50:23.934 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:23.936 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:23.938 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:50:23.938 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:50:23.938 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:50:23.939 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:23.939 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:23.940 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:23.940 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:50:23.942 [http-nio-3002-exec-6] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:23.942 [http-nio-3002-exec-6] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:50:23.942 [http-nio-3002-exec-6] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:50:23.942 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:23.943 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:50:23.957 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:23.985 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:50:23.995 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (54ms)
2025-09-04 14:50:23.995 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:50:27.191 [http-nio-3002-exec-8] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:27.191 [http-nio-3002-exec-8] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:50:27.191 [http-nio-3002-exec-8] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:50:27.191 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:27.194 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:50:27.214 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:27.216 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:50:27.220 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5035ms)
2025-09-04 14:50:27.220 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:50:27.488 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:27.495 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:50:27.495 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:50:27.495 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:27.497 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:27.498 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:50:27.499 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:50:27.499 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:50:27.502 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:27.502 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:27.503 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:27.503 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:50:27.504 [http-nio-3002-exec-9] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:27.504 [http-nio-3002-exec-9] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:50:27.504 [http-nio-3002-exec-9] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:50:27.504 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:27.507 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:50:27.524 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:27.526 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:50:27.530 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (27ms)
2025-09-04 14:50:27.530 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:50:31.149 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:31.167 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:50:31.169 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:50:31.169 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:31.193 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:31.195 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:50:31.197 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:50:31.197 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:50:31.201 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:31.201 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:31.201 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:31.202 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:50:31.214 [http-nio-3002-exec-1] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:31.217 [http-nio-3002-exec-1] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:50:31.218 [http-nio-3002-exec-1] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:50:31.218 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:31.221 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:50:31.247 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:31.252 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:50:31.258 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (56ms)
2025-09-04 14:50:31.258 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:50:32.411 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:32.413 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:50:32.413 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:50:32.414 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:32.416 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:32.417 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:50:32.418 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:50:32.419 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:50:32.420 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:32.421 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:32.421 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:32.421 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:50:33.027 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:33.032 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:50:33.032 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:50:33.032 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:33.034 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:33.036 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:50:33.037 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:50:33.037 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:50:33.060 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:33.060 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:33.060 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:33.061 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:50:33.890 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:33.895 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:50:33.895 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:50:33.895 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:33.897 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:33.899 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:50:33.900 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:50:33.900 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:50:33.904 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:33.904 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:33.904 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:33.904 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:50:37.427 [http-nio-3002-exec-7] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:37.427 [http-nio-3002-exec-7] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:50:37.428 [http-nio-3002-exec-7] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:50:37.428 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:37.429 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:50:37.448 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:37.451 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:50:37.455 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5033ms)
2025-09-04 14:50:37.455 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:50:38.068 [http-nio-3002-exec-5] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:38.068 [http-nio-3002-exec-5] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:50:38.068 [http-nio-3002-exec-5] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:50:38.069 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:38.071 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:50:38.090 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:38.092 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:50:38.096 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5035ms)
2025-09-04 14:50:38.097 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:50:38.393 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:38.394 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:50:38.394 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:50:38.394 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:38.396 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:38.397 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:50:38.398 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:50:38.398 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:50:38.399 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:38.399 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:38.399 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:38.399 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:50:38.400 [http-nio-3002-exec-1] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:38.401 [http-nio-3002-exec-1] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:50:38.401 [http-nio-3002-exec-1] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:50:38.401 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:38.402 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:50:38.416 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:38.418 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:50:38.421 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (22ms)
2025-09-04 14:50:38.422 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:50:38.908 [http-nio-3002-exec-4] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:38.909 [http-nio-3002-exec-4] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:50:38.909 [http-nio-3002-exec-4] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:50:38.909 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:38.910 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:50:38.927 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:38.929 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:50:38.933 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5029ms)
2025-09-04 14:50:38.933 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:50:41.405 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:41.409 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:50:41.409 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:50:41.409 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:41.412 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:41.413 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:50:41.414 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:50:41.414 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:50:41.417 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:41.417 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:41.417 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:41.417 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:50:41.420 [http-nio-3002-exec-10] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:41.420 [http-nio-3002-exec-10] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:50:41.421 [http-nio-3002-exec-10] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:50:41.421 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: admin] - 200 (4ms) [Error in findAll]
2025-09-04 14:50:41.421 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:50:41.425 [http-nio-3002-exec-10] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:50:41.428 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:50:41.434 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:50:41.434 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:50:41.435 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:50:41.435 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:50:41.435 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:50:41.436 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:41.436 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:50:41 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:50:41.437 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (2ms)
2025-09-04 14:50:41.437 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:50:45.474 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:45.477 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:50:45.477 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:50:45.477 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:45.480 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:45.482 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:50:45.482 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:50:45.482 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:50:45.484 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:45.484 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:45.484 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:45.484 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:50:48.036 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:48.038 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:50:48.039 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:50:48.039 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:48.042 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:48.045 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:50:48.046 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:50:48.046 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:50:48.047 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:48.047 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:48.048 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:48.048 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:50:50.491 [http-nio-3002-exec-6] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:50.492 [http-nio-3002-exec-6] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:50:50.492 [http-nio-3002-exec-6] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:50:50.492 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:50.494 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:50:50.518 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:50.522 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:50:50.528 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5044ms)
2025-09-04 14:50:50.528 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:50:52.574 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:52.577 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:50:52.578 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:50:52.578 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:52.579 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:52.580 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:50:52.581 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:50:52.581 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:50:52.582 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:52.582 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:52.582 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:52.582 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:50:52.584 [http-nio-3002-exec-8] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:52.584 [http-nio-3002-exec-8] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:50:52.584 [http-nio-3002-exec-8] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:50:52.584 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:52.585 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:50:52.605 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:52.607 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:50:52.613 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (31ms)
2025-09-04 14:50:52.613 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:50:53.058 [http-nio-3002-exec-2] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:53.059 [http-nio-3002-exec-2] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:50:53.059 [http-nio-3002-exec-2] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:50:53.060 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:53.061 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:50:53.084 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:53.086 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:50:53.091 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5043ms)
2025-09-04 14:50:53.091 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:50:54.262 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:54.273 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:50:54.273 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:50:54.274 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:54.295 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:54.314 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:50:54.315 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:50:54.315 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:50:54.317 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:54.317 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:54.317 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:54.317 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:50:54.321 [http-nio-3002-exec-1] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:54.321 [http-nio-3002-exec-1] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:50:54.321 [http-nio-3002-exec-1] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:50:54.322 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:54.324 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:50:54.339 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:54.342 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:50:54.345 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (28ms)
2025-09-04 14:50:54.345 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:50:55.598 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:55.603 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:50:55.604 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:50:55.604 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:55.606 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:55.608 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:50:55.609 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:50:55.609 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:50:55.610 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:55.610 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:55.610 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:55.611 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:50:55.612 [http-nio-3002-exec-10] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:50:55.612 [http-nio-3002-exec-10] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:50:55.612 [http-nio-3002-exec-10] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:50:55.612 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: admin] - 200 (1ms) [Error in findAll]
2025-09-04 14:50:55.612 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:50:55.613 [http-nio-3002-exec-10] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:50:55.615 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:50:55.617 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:50:55.618 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:50:55.618 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:50:55.618 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:50:55.618 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:50:55.619 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:50:55.619 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:50:55 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:50:55.619 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (1ms)
2025-09-04 14:50:55.619 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:50:58.763 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:58.765 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:50:58.765 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:50:58.765 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:58.767 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:58.768 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:50:58.768 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:50:58.768 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:50:58.769 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:58.769 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:58.769 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:58.769 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:50:59.794 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:50:59.795 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:50:59.795 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:50:59.795 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:50:59.797 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:50:59.798 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:50:59.798 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:50:59.799 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:50:59.801 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:50:59.801 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:50:59.802 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:50:59.802 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:51:00.880 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:00.882 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:51:00.882 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:51:00.882 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:00.884 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:00.885 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:51:00.886 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:51:00.886 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:51:00.892 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:00.893 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:00.893 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:00.893 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:51:01.816 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:01.821 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:51:01.822 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:51:01.822 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:01.825 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:01.827 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:51:01.828 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:51:01.828 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:51:01.831 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:01.831 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:01.831 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:01.832 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:51:03.776 [http-nio-3002-exec-6] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:03.777 [http-nio-3002-exec-6] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:51:03.777 [http-nio-3002-exec-6] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:51:03.777 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:03.779 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:51:03.803 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:03.805 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:51:03.809 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5040ms)
2025-09-04 14:51:03.809 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:51:04.807 [http-nio-3002-exec-5] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:04.807 [http-nio-3002-exec-5] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:51:04.807 [http-nio-3002-exec-5] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:51:04.808 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:04.809 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:51:04.823 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:04.825 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:51:04.828 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5026ms)
2025-09-04 14:51:04.828 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:51:05.898 [http-nio-3002-exec-8] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:05.899 [http-nio-3002-exec-8] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:51:05.899 [http-nio-3002-exec-8] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:51:05.899 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:05.901 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:51:05.920 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:05.923 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:51:05.928 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5035ms)
2025-09-04 14:51:05.928 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:51:06.688 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:06.689 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:51:06.689 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:51:06.689 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:06.691 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:06.692 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:51:06.693 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:51:06.693 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:51:06.707 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:06.707 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:06.707 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:06.708 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:51:06.709 [http-nio-3002-exec-9] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:06.710 [http-nio-3002-exec-9] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:51:06.710 [http-nio-3002-exec-9] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:51:06.710 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:06.710 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:51:06.726 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:06.727 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:51:06.731 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (24ms)
2025-09-04 14:51:06.732 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:51:06.836 [http-nio-3002-exec-2] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:06.836 [http-nio-3002-exec-2] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:51:06.836 [http-nio-3002-exec-2] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:51:06.836 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:06.842 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:51:06.858 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:06.860 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:51:06.864 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5032ms)
2025-09-04 14:51:06.864 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:51:08.001 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:08.002 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:51:08.003 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:51:08.003 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:08.005 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:08.006 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:51:08.007 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:51:08.007 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:51:08.009 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:08.009 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:08.009 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:08.010 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:51:08.011 [http-nio-3002-exec-4] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:08.011 [http-nio-3002-exec-4] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:51:08.011 [http-nio-3002-exec-4] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:51:08.012 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: admin] - 200 (3ms) [Error in findAll]
2025-09-04 14:51:08.012 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:51:08.014 [http-nio-3002-exec-4] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:51:08.017 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:51:08.019 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:51:08.019 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:51:08.019 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:51:08.020 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:51:08.020 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:51:08.020 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:08.020 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:51:08 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:51:08.021 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (1ms)
2025-09-04 14:51:08.022 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:51:09.888 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:09.889 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:51:09.889 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:51:09.889 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:09.891 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:09.892 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:51:09.892 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:51:09.892 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:51:09.893 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:09.893 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:09.894 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:09.894 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:51:09.896 [http-nio-3002-exec-10] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:09.896 [http-nio-3002-exec-10] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:51:09.896 [http-nio-3002-exec-10] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:51:09.896 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: user] - 200 (2ms) [Error in findAll]
2025-09-04 14:51:09.897 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:51:09.898 [http-nio-3002-exec-10] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:51:09.900 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:51:09.901 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:51:09.901 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:51:09.901 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:51:09.901 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:51:09.901 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:51:09.902 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:09.902 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:51:09 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:51:09.902 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (1ms)
2025-09-04 14:51:09.902 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:51:11.257 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:11.258 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:51:11.258 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:51:11.258 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:11.260 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:11.261 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:51:11.262 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:51:11.262 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:51:11.263 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:11.263 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:11.263 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:11.264 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:51:11.266 [http-nio-3002-exec-7] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:11.266 [http-nio-3002-exec-7] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:51:11.266 [http-nio-3002-exec-7] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:51:11.266 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: admin] - 200 (2ms) [Error in findAll]
2025-09-04 14:51:11.267 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:51:11.268 [http-nio-3002-exec-7] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:51:11.269 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:51:11.271 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:51:11.272 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:51:11.272 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:51:11.273 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:51:11.273 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:51:11.274 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:11.275 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:51:11 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:51:11.278 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (5ms)
2025-09-04 14:51:11.279 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:51:15.528 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:15.531 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:51:15.531 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:51:15.531 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:15.534 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:15.535 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:51:15.536 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:51:15.536 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:51:15.537 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:15.537 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:15.537 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:15.537 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:51:20.402 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:20.404 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:51:20.404 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:51:20.405 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:20.406 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:20.407 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:51:20.407 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:51:20.407 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:51:20.408 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:20.408 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:20.408 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:20.408 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:51:20.544 [http-nio-3002-exec-5] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:20.544 [http-nio-3002-exec-5] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:51:20.544 [http-nio-3002-exec-5] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:51:20.544 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: admin] - 200 (5007ms) [Error in findAll]
2025-09-04 14:51:20.544 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:51:20.546 [http-nio-3002-exec-5] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:51:20.547 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:51:20.548 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:51:20.549 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:51:20.551 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:51:20.551 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:51:20.551 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:51:20.551 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:20.552 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:51:20 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:51:20.552 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (1ms)
2025-09-04 14:51:20.552 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:51:21.955 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:21.957 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:51:21.957 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:51:21.957 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:21.960 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:21.961 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:51:21.962 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:51:21.962 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:51:21.963 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:21.964 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:21.964 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:21.964 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:51:21.967 [http-nio-3002-exec-9] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:21.967 [http-nio-3002-exec-9] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:51:21.967 [http-nio-3002-exec-9] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:51:21.967 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:21.968 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:51:21.988 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:22.019 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:51:22.028 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (64ms)
2025-09-04 14:51:22.029 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
[otel.javaagent 2025-09-04 14:51:23:035 -0400] [OkHttp https://xtc47953.live.dynatrace.com/...] ERROR io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export logs. The request could not be executed. Full error message: timeout
java.io.InterruptedIOException: timeout
	at okhttp3.internal.connection.RealCall.timeoutExit(RealCall.kt:398)
	at okhttp3.internal.connection.RealCall.callDone(RealCall.kt:360)
	at okhttp3.internal.connection.RealCall.noMoreExchanges$okhttp(RealCall.kt:325)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:209)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.io.IOException: Canceled
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:72)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at io.opentelemetry.exporter.sender.okhttp.internal.RetryInterceptor.intercept(RetryInterceptor.java:96)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	... 4 more
2025-09-04 14:51:24.077 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:24.092 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:51:24.092 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:51:24.093 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:24.100 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:24.108 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:51:24.110 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:51:24.110 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:51:24.114 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:24.114 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:24.115 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:24.116 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:51:24.120 [http-nio-3002-exec-4] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:24.120 [http-nio-3002-exec-4] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:51:24.120 [http-nio-3002-exec-4] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:51:24.120 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:24.121 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:51:24.138 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:24.140 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:51:24.144 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (29ms)
2025-09-04 14:51:24.144 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:51:25.417 [http-nio-3002-exec-8] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:25.418 [http-nio-3002-exec-8] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:51:25.418 [http-nio-3002-exec-8] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:51:25.418 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:25.420 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:51:25.444 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:25.447 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:51:25.452 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5044ms)
2025-09-04 14:51:25.452 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:51:25.601 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:25.603 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:51:25.603 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:51:25.603 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:25.605 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:25.606 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:51:25.607 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:51:25.607 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:51:25.608 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:25.608 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:25.608 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:25.608 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:51:25.609 [http-nio-3002-exec-10] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:25.609 [http-nio-3002-exec-10] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:51:25.610 [http-nio-3002-exec-10] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:51:25.610 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:25.610 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:51:25.625 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:25.627 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:51:25.630 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (22ms)
2025-09-04 14:51:25.631 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
[otel.javaagent 2025-09-04 14:51:26:648 -0400] [OkHttp https://xtc47953.live.dynatrace.com/...] ERROR io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export spans. The request could not be executed. Full error message: timeout
java.io.InterruptedIOException: timeout
	at okhttp3.internal.connection.RealCall.timeoutExit(RealCall.kt:398)
	at okhttp3.internal.connection.RealCall.callDone(RealCall.kt:360)
	at okhttp3.internal.connection.RealCall.noMoreExchanges$okhttp(RealCall.kt:325)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:209)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.io.IOException: Canceled
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:72)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at io.opentelemetry.exporter.sender.okhttp.internal.RetryInterceptor.intercept(RetryInterceptor.java:96)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	... 4 more
2025-09-04 14:51:27.506 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:27.507 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:51:27.507 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:51:27.507 [http-nio-3002-exec-3] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:27.509 [http-nio-3002-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:27.510 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:51:27.511 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:51:27.511 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:51:27.512 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:27.512 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:27.512 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:27.512 [http-nio-3002-exec-3] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:51:27.513 [http-nio-3002-exec-3] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:27.513 [http-nio-3002-exec-3] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:51:27.513 [http-nio-3002-exec-3] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:51:27.513 [http-nio-3002-exec-3] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:27.514 [http-nio-3002-exec-3] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:51:27.530 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:27.532 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:51:27.536 [http-nio-3002-exec-3] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (24ms)
2025-09-04 14:51:27.536 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:51:31.909 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:31.910 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:51:31.911 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:51:31.911 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:31.913 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:31.914 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:51:31.914 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:51:31.915 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:51:31.916 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:31.916 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:31.916 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:31.917 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:51:34.488 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:34.490 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:51:34.490 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:51:34.490 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:34.495 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:34.496 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:51:34.497 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:51:34.497 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:51:34.498 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:34.498 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:34.499 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:34.499 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:51:36.937 [http-nio-3002-exec-9] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:36.938 [http-nio-3002-exec-9] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:51:36.938 [http-nio-3002-exec-9] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:51:36.938 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:36.941 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:51:36.965 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:36.968 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:51:36.973 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5056ms)
2025-09-04 14:51:36.973 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:51:38.969 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:38.971 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:51:38.972 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:51:38.972 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:38.975 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:38.977 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:51:38.978 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:51:38.978 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:51:38.985 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:38.985 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:38.985 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:38.986 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:51:38.987 [http-nio-3002-exec-4] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:38.987 [http-nio-3002-exec-4] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:51:38.987 [http-nio-3002-exec-4] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:51:38.987 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:38.991 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:51:39.010 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:39.012 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:51:39.016 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (31ms)
2025-09-04 14:51:39.016 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:51:39.513 [http-nio-3002-exec-2] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:39.513 [http-nio-3002-exec-2] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:51:39.514 [http-nio-3002-exec-2] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:51:39.515 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: admin] - 200 (5016ms) [Error in findAll]
2025-09-04 14:51:39.515 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:51:39.520 [http-nio-3002-exec-2] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:51:39.525 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:51:39.528 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:51:39.529 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:51:39.529 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:51:39.531 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:51:39.531 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:51:39.533 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:39.533 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:51:39 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:51:39.534 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (3ms)
2025-09-04 14:51:39.534 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:51:42.567 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:42.568 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:51:42.569 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:51:42.569 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:42.570 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:42.571 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:51:42.571 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:51:42.571 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:51:42.572 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:42.573 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:42.573 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:42.573 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:51:42.575 [http-nio-3002-exec-7] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:42.575 [http-nio-3002-exec-7] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:51:42.575 [http-nio-3002-exec-7] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:51:42.575 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:42.576 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:51:42.590 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:42.593 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:51:42.599 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (26ms)
2025-09-04 14:51:42.599 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:51:43.256 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:43.257 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:51:43.258 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:51:43.258 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:43.259 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:43.260 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:51:43.260 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:51:43.260 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:51:43.261 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:43.261 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:43.261 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:43.261 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:51:43.262 [http-nio-3002-exec-6] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:43.262 [http-nio-3002-exec-6] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:51:43.262 [http-nio-3002-exec-6] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:51:43.262 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:43.264 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:51:43.278 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:43.280 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:51:43.284 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (23ms)
2025-09-04 14:51:43.285 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:51:44.269 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:44.270 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:51:44.271 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:51:44.271 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:44.272 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:44.273 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:51:44.277 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:51:44.277 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:51:44.278 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:44.279 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:44.279 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:44.279 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:51:44.281 [http-nio-3002-exec-5] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:44.281 [http-nio-3002-exec-5] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:51:44.281 [http-nio-3002-exec-5] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:51:44.281 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:44.282 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:51:44.299 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:44.301 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:51:44.304 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (25ms)
2025-09-04 14:51:44.304 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:51:45.429 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:45.432 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:51:45.432 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:51:45.433 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:45.434 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:45.439 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:51:45.444 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:51:45.444 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:51:45.446 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:45.446 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:45.446 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:45.446 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:51:47.557 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:47.558 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:51:47.559 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:51:47.559 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:47.560 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:47.561 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:51:47.562 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:51:47.562 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:51:47.563 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:47.563 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:47.563 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:47.563 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:51:50.457 [http-nio-3002-exec-9] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:50.457 [http-nio-3002-exec-9] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:51:50.457 [http-nio-3002-exec-9] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:51:50.458 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:50.459 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:51:50.485 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:50.487 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:51:50.493 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5047ms)
2025-09-04 14:51:50.493 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:51:51.460 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:51.461 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:51:51.461 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:51:51.461 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:51.464 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:51.466 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:51:51.466 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:51:51.466 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:51:51.467 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:51.468 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:51.468 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:51.468 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:51:51.469 [http-nio-3002-exec-8] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:51.469 [http-nio-3002-exec-8] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:51:51.469 [http-nio-3002-exec-8] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:51:51.470 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: admin] - 200 (2ms) [Error in findAll]
2025-09-04 14:51:51.470 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:51:51.471 [http-nio-3002-exec-8] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:51:51.473 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:51:51.476 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:51:51.476 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:51:51.476 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:51:51.476 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:51:51.476 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:51:51.477 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:51.477 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:51:51 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:51:51.478 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (2ms)
2025-09-04 14:51:51.479 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:51:52.426 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:52.427 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:51:52.427 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:51:52.427 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:52.429 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:52.430 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:51:52.430 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:51:52.430 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:51:52.431 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:52.431 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:52.432 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:52.432 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:51:52.433 [http-nio-3002-exec-10] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:52.433 [http-nio-3002-exec-10] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:51:52.433 [http-nio-3002-exec-10] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:51:52.433 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:52.434 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:51:52.451 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:52.453 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:51:52.457 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (25ms)
2025-09-04 14:51:52.457 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:51:52.566 [http-nio-3002-exec-1] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:52.566 [http-nio-3002-exec-1] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:51:52.566 [http-nio-3002-exec-1] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:51:52.567 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: user] - 200 (5004ms) [Error in findAll]
2025-09-04 14:51:52.567 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:51:52.568 [http-nio-3002-exec-1] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:51:52.569 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:51:52.579 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:51:52.579 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:51:52.579 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:51:52.579 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:51:52.579 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:51:52.580 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:52.580 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:51:52 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:51:52.580 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (1ms)
2025-09-04 14:51:52.580 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:51:53.866 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:53.868 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:51:53.869 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:51:53.869 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:53.870 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:53.871 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:51:53.876 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:51:53.876 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:51:53.879 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:53.882 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:53.882 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:53.882 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:51:53.884 [http-nio-3002-exec-7] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:53.884 [http-nio-3002-exec-7] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:51:53.884 [http-nio-3002-exec-7] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:51:53.884 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: user] - 200 (2ms) [Error in findAll]
2025-09-04 14:51:53.884 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:51:53.888 [http-nio-3002-exec-7] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:51:53.895 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:51:53.897 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:51:53.897 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:51:53.897 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:51:53.898 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:51:53.898 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:51:53.899 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:53.899 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:51:53 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:51:53.899 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (1ms)
2025-09-04 14:51:53.899 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:51:57.154 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:51:57.155 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:51:57.155 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:51:57.155 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:51:57.156 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:51:57.157 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:51:57.157 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:51:57.157 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:51:57.158 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:51:57.158 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:51:57.158 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:51:57.158 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:51:57.159 [http-nio-3002-exec-5] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:51:57.159 [http-nio-3002-exec-5] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:51:57.159 [http-nio-3002-exec-5] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:51:57.159 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: admin] - 200 (1ms) [Error in findAll]
2025-09-04 14:51:57.160 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:51:57.161 [http-nio-3002-exec-5] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:51:57.162 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:51:57.162 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:51:57.162 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:51:57.163 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:51:57.163 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:51:57.163 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:51:57.163 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:51:57.163 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:51:57 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:51:57.163 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (0ms)
2025-09-04 14:51:57.164 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:52:00.936 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:00.946 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:52:00.946 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:52:00.947 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:00.949 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:00.950 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:52:00.951 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:52:00.951 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:52:00.952 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:00.953 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:00.953 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:00.953 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:52:04.744 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:04.746 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:52:04.746 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:52:04.746 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:04.749 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:04.750 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:52:04.751 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:52:04.751 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:52:04.752 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:04.753 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:04.753 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:04.753 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
[otel.javaagent 2025-09-04 14:52:05:324 -0400] [OkHttp https://xtc47953.live.dynatrace.com/...] ERROR io.opentelemetry.exporter.internal.http.HttpExporter - Failed to export logs. The request could not be executed. Full error message: timeout
java.io.InterruptedIOException: timeout
	at okhttp3.internal.connection.RealCall.timeoutExit(RealCall.kt:398)
	at okhttp3.internal.connection.RealCall.callDone(RealCall.kt:360)
	at okhttp3.internal.connection.RealCall.noMoreExchanges$okhttp(RealCall.kt:325)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:209)
	at okhttp3.internal.connection.RealCall$AsyncCall.run(RealCall.kt:517)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.io.IOException: Canceled
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:72)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at io.opentelemetry.exporter.sender.okhttp.internal.RetryInterceptor.intercept(RetryInterceptor.java:96)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)
	at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)
	... 4 more
2025-09-04 14:52:05.958 [http-nio-3002-exec-9] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:05.958 [http-nio-3002-exec-9] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:52:05.958 [http-nio-3002-exec-9] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:52:05.958 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:05.961 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:05.978 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:05.980 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:05.985 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5031ms)
2025-09-04 14:52:05.985 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:52:07.554 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:07.557 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:52:07.558 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:52:07.558 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:07.560 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:07.560 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:52:07.561 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:52:07.561 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:52:07.562 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:07.562 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:07.562 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:07.562 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:52:07.563 [http-nio-3002-exec-7] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:07.563 [http-nio-3002-exec-7] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:52:07.563 [http-nio-3002-exec-7] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:52:07.564 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:07.564 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:07.579 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:07.581 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:07.585 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (22ms)
2025-09-04 14:52:07.585 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:52:09.765 [http-nio-3002-exec-8] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:09.765 [http-nio-3002-exec-8] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:52:09.765 [http-nio-3002-exec-8] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:52:09.765 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: user] - 200 (5012ms) [Error in findAll]
2025-09-04 14:52:09.766 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:52:09.767 [http-nio-3002-exec-8] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:52:09.769 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:52:09.771 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:52:09.771 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:52:09.772 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:52:09.772 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:52:09.772 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:52:09.773 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:09.773 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:52:09 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:52:09.774 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (2ms)
2025-09-04 14:52:09.774 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:52:09.934 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:09.935 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:52:09.936 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:52:09.936 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:09.938 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:09.940 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:52:09.941 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:52:09.941 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:52:09.942 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:09.942 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:09.942 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:09.942 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:52:09.944 [http-nio-3002-exec-6] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:09.944 [http-nio-3002-exec-6] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:52:09.944 [http-nio-3002-exec-6] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:52:09.944 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:09.945 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:09.965 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:09.967 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:09.970 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (28ms)
2025-09-04 14:52:09.971 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:52:10.661 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:10.661 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:52:10.662 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:52:10.662 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:10.663 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:10.665 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:52:10.665 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:52:10.665 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:52:10.666 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:10.666 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:10.666 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:10.666 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:52:10.669 [http-nio-3002-exec-5] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:10.669 [http-nio-3002-exec-5] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:52:10.669 [http-nio-3002-exec-5] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:52:10.669 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:10.670 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:10.684 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:10.685 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:10.690 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (24ms)
2025-09-04 14:52:10.690 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:52:13.128 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:13.129 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:52:13.130 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:52:13.130 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:13.131 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:13.132 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:52:13.132 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:52:13.132 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:52:13.133 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:13.133 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:13.133 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:13.133 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:52:13.135 [http-nio-3002-exec-4] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:13.135 [http-nio-3002-exec-4] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:52:13.135 [http-nio-3002-exec-4] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:52:13.135 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: user] - 200 (2ms) [Error in findAll]
2025-09-04 14:52:13.135 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:52:13.138 [http-nio-3002-exec-4] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:52:13.140 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:52:13.140 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:52:13.141 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:52:13.141 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:52:13.141 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:52:13.141 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:52:13.141 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:13.141 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:52:13 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:52:13.141 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (0ms)
2025-09-04 14:52:13.142 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:52:16.226 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:16.227 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:52:16.227 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:52:16.227 [http-nio-3002-exec-10] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:16.229 [http-nio-3002-exec-10] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:16.229 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:52:16.230 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:52:16.230 [http-nio-3002-exec-10] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:52:16.235 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:16.235 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:16.235 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:16.235 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:52:18.014 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:18.015 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:52:18.015 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:52:18.015 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:18.020 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:18.021 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:52:18.022 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:52:18.022 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:52:18.023 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:18.023 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:18.023 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:18.023 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:52:20.247 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:20.248 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:52:20.248 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:52:20.248 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:20.250 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:20.251 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:52:20.251 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:52:20.251 [http-nio-3002-exec-1] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:52:20.253 [http-nio-3002-exec-1] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:20.253 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:20.253 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:20.253 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:52:21.243 [http-nio-3002-exec-10] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:21.243 [http-nio-3002-exec-10] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:52:21.243 [http-nio-3002-exec-10] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:52:21.244 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: user] - 200 (5009ms) [Error in findAll]
2025-09-04 14:52:21.244 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:52:21.248 [http-nio-3002-exec-10] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:52:21.249 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:52:21.250 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:52:21.250 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:52:21.250 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:52:21.250 [http-nio-3002-exec-10] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:52:21.251 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:52:21.251 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:21.251 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:52:21 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:52:21.252 [http-nio-3002-exec-10] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (1ms)
2025-09-04 14:52:21.252 [http-nio-3002-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:52:23.027 [http-nio-3002-exec-9] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:23.027 [http-nio-3002-exec-9] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:52:23.027 [http-nio-3002-exec-9] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:52:23.027 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:23.031 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:23.046 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:23.049 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:23.056 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5033ms)
2025-09-04 14:52:23.057 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:52:24.029 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:24.046 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:52:24.047 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:52:24.048 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:24.054 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:24.063 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:52:24.064 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:52:24.064 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:52:24.070 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:24.070 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:24.070 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:24.071 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:52:24.075 [http-nio-3002-exec-2] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:24.075 [http-nio-3002-exec-2] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:52:24.075 [http-nio-3002-exec-2] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:52:24.075 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:24.077 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:24.093 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:24.095 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:24.101 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (30ms)
2025-09-04 14:52:24.101 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:52:25.257 [http-nio-3002-exec-1] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:25.258 [http-nio-3002-exec-1] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:52:25.258 [http-nio-3002-exec-1] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:52:25.258 [http-nio-3002-exec-1] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:25.259 [http-nio-3002-exec-1] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:25.274 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:25.276 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:25.280 [http-nio-3002-exec-1] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5027ms)
2025-09-04 14:52:25.281 [http-nio-3002-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:52:25.371 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:25.372 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:52:25.372 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:52:25.372 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:25.373 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:25.374 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:52:25.374 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:52:25.374 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:52:25.375 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:25.375 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:25.375 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:25.375 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:52:25.380 [http-nio-3002-exec-8] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:25.380 [http-nio-3002-exec-8] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:52:25.380 [http-nio-3002-exec-8] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:52:25.380 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: user] - 200 (5ms) [Error in findAll]
2025-09-04 14:52:25.380 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:52:25.383 [http-nio-3002-exec-8] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:52:25.385 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:52:25.386 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:52:25.386 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:52:25.386 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:52:25.386 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:52:25.386 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:52:25.387 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:25.387 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:52:25 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:52:25.388 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (2ms)
2025-09-04 14:52:25.388 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:52:26.963 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:26.964 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:52:26.964 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:52:26.964 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:26.965 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:26.966 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:52:26.966 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:52:26.966 [http-nio-3002-exec-4] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:52:26.967 [http-nio-3002-exec-4] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:26.967 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:26.967 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:26.967 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:52:26.969 [http-nio-3002-exec-4] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:26.969 [http-nio-3002-exec-4] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:52:26.969 [http-nio-3002-exec-4] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:52:26.969 [http-nio-3002-exec-4] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:26.972 [http-nio-3002-exec-4] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:26.991 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:26.993 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:26.997 [http-nio-3002-exec-4] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (30ms)
2025-09-04 14:52:26.997 [http-nio-3002-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:52:30.941 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:30.942 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:52:30.942 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:52:30.942 [http-nio-3002-exec-3] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:30.944 [http-nio-3002-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:30.945 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:52:30.945 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:52:30.945 [http-nio-3002-exec-3] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:52:30.946 [http-nio-3002-exec-3] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:30.947 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:30.947 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:30.947 [http-nio-3002-exec-3] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:52:32.290 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:32.294 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:52:32.294 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:52:32.294 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:32.296 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:32.298 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:52:32.299 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:52:32.299 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:52:32.301 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:32.301 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:32.301 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:32.302 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:52:33.461 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:33.464 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:52:33.464 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:52:33.464 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:33.465 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:33.466 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:52:33.466 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:52:33.466 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:52:33.468 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:33.468 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:33.468 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:33.468 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:52:35.952 [http-nio-3002-exec-3] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:35.952 [http-nio-3002-exec-3] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:52:35.952 [http-nio-3002-exec-3] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:52:35.952 [http-nio-3002-exec-3] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:35.954 [http-nio-3002-exec-3] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:35.972 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:35.974 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:35.979 [http-nio-3002-exec-3] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5031ms)
2025-09-04 14:52:35.979 [http-nio-3002-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:52:36.470 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:36.472 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:52:36.472 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:52:36.472 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:36.475 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:36.475 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:52:36.476 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:52:36.476 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:52:36.479 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:36.479 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:36.479 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:36.482 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:52:36.485 [http-nio-3002-exec-7] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:36.485 [http-nio-3002-exec-7] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:52:36.485 [http-nio-3002-exec-7] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:52:36.485 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:36.486 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:36.507 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:36.510 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:36.515 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (34ms)
2025-09-04 14:52:36.515 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:52:37.311 [http-nio-3002-exec-9] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:37.312 [http-nio-3002-exec-9] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:52:37.312 [http-nio-3002-exec-9] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:52:37.312 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:37.314 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:37.338 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:37.340 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:37.346 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5044ms)
2025-09-04 14:52:37.347 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:52:38.472 [http-nio-3002-exec-2] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:38.472 [http-nio-3002-exec-2] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:52:38.472 [http-nio-3002-exec-2] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:52:38.472 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:38.476 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:38.491 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:38.493 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:38.497 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (5029ms)
2025-09-04 14:52:38.497 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:52:40.229 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:40.230 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:52:40.230 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:52:40.230 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:40.235 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:40.236 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:52:40.236 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:52:40.236 [http-nio-3002-exec-5] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:52:40.237 [http-nio-3002-exec-5] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:40.237 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:40.237 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:40.237 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:52:40.239 [http-nio-3002-exec-5] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:40.239 [http-nio-3002-exec-5] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:52:40.239 [http-nio-3002-exec-5] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:52:40.239 [http-nio-3002-exec-5] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:40.240 [http-nio-3002-exec-5] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:40.254 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:40.256 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:40.259 [http-nio-3002-exec-5] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (22ms)
2025-09-04 14:52:40.259 [http-nio-3002-exec-5] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:52:42.423 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:42.425 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:52:42.426 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:52:42.426 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:42.429 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:42.431 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:52:42.432 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:52:42.432 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:52:42.433 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:42.434 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:42.434 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:42.434 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:52:42.440 [http-nio-3002-exec-6] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:42.441 [http-nio-3002-exec-6] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:52:42.441 [http-nio-3002-exec-6] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:52:42.441 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:42.443 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:42.464 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:42.466 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:42.470 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (36ms)
2025-09-04 14:52:42.470 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:52:46.224 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:46.226 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:52:46.226 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:52:46.227 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:46.229 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:46.230 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:52:46.230 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:52:46.230 [http-nio-3002-exec-7] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:52:46.233 [http-nio-3002-exec-7] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:46.233 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:46.233 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:46.233 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:52:47.616 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:47.617 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:52:47.617 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:52:47.617 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:47.619 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:47.620 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:52:47.621 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:52:47.621 [http-nio-3002-exec-9] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:52:47.622 [http-nio-3002-exec-9] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:47.622 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:47.622 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:47.622 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:52:51.238 [http-nio-3002-exec-7] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:51.239 [http-nio-3002-exec-7] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:52:51.239 [http-nio-3002-exec-7] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:52:51.239 [http-nio-3002-exec-7] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:51.241 [http-nio-3002-exec-7] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:51.247 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:51.248 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:52:51.249 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:52:51.249 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:51.250 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:51.251 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:52:51.252 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:52:51.252 [http-nio-3002-exec-2] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:52:51.253 [http-nio-3002-exec-2] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:51.253 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:51.253 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:51.253 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:52:51.255 [http-nio-3002-exec-2] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:51.255 [http-nio-3002-exec-2] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:52:51.255 [http-nio-3002-exec-2] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:52:51.255 [http-nio-3002-exec-2] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:51.256 [http-nio-3002-exec-2] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:51.264 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:51.267 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:51.272 [http-nio-3002-exec-7] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5039ms)
2025-09-04 14:52:51.272 [http-nio-3002-exec-7] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:52:51.279 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:51.281 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:51.285 [http-nio-3002-exec-2] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: user] - 200 (32ms)
2025-09-04 14:52:51.285 [http-nio-3002-exec-2] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:52:52.631 [http-nio-3002-exec-9] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:52.631 [http-nio-3002-exec-9] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:52:52.631 [http-nio-3002-exec-9] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:52:52.632 [http-nio-3002-exec-9] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:52.639 [http-nio-3002-exec-9] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:52.663 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:52.666 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:52.670 [http-nio-3002-exec-9] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (5048ms)
2025-09-04 14:52:52.670 [http-nio-3002-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-04 14:52:52.862 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:52.864 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: user
2025-09-04 14:52:52.864 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: user
2025-09-04 14:52:52.864 [http-nio-3002-exec-8] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:52.868 [http-nio-3002-exec-8] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:52.869 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: user
2025-09-04 14:52:52.870 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: user
2025-09-04 14:52:52.870 [http-nio-3002-exec-8] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: user
2025-09-04 14:52:52.871 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:52.871 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:52.872 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:52.872 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: user] - Request started
2025-09-04 14:52:52.874 [http-nio-3002-exec-8] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:52.874 [http-nio-3002-exec-8] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: user
2025-09-04 14:52:52.874 [http-nio-3002-exec-8] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: user
2025-09-04 14:52:52.874 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ❌ GET /api/products [User: user] - 200 (2ms) [Error in findAll]
2025-09-04 14:52:52.874 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Failed to complete request: java.lang.RuntimeException: Error in findAll
2025-09-04 14:52:52.877 [http-nio-3002-exec-8] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api].[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed: java.lang.RuntimeException: Error in findAll] with root cause
java.lang.RuntimeException: Error in findAll
	at com.shopper.service.ProductService.findAll(ProductService.java:42) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.service.ProductService$$SpringCGLIB$$0.findAll(<generated>) ~[classes/:?]
	at com.shopper.controller.ProductController.getAllProducts(ProductController.java:59) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.controller.ProductController$$SpringCGLIB$$0.getAllProducts(<generated>) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:254) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:182) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at com.shopper.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:83) ~[classes/:?]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[?:?]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:352) ~[spring-aop-6.1.1.jar:6.1.1]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:713) ~[spring-aop-6.1.1.jar:6.1.1]
	at com.shopper.security.JwtAuthenticationFilter$$SpringCGLIB$$0.doFilterInternal(<generated>) ~[classes/:?]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.2.0.jar:6.2.0]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.servlet.v6_0.OpenTelemetryHandlerMappingFilter.doFilter(OpenTelemetryHandlerMappingFilter.java:78) ~[opentelemetry-javaagent.jar:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-10.1.16.jar:10.1.16]
	at java.base/java.lang.Thread.run(Thread.java:833) [?:?]
2025-09-04 14:52:52.880 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /error
2025-09-04 14:52:52.882 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /error
2025-09-04 14:52:52.882 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/api/error", parameters={}
2025-09-04 14:52:52.882 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-09-04 14:52:52.882 [http-nio-3002-exec-8] DEBUG org.springframework.security.web.authentication.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-09-04 14:52:52.882 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/error [Anonymous] - Request started
2025-09-04 14:52:52.883 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:52.883 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [{timestamp=Thu Sep 04 14:52:52 EDT 2025, status=500, error=Internal Server Error, path=/api/products (truncated)...]
2025-09-04 14:52:52.884 [http-nio-3002-exec-8] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/error [Anonymous] - 500 (2ms)
2025-09-04 14:52:52.885 [http-nio-3002-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 500
2025-09-04 14:52:57.413 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Securing GET /products
2025-09-04 14:52:57.416 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token extracted, username: admin
2025-09-04 14:52:57.416 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Loading user details for username: admin
2025-09-04 14:52:57.416 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:57.419 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.created_at,u1_0.email,u1_0.password,u1_0.role,u1_0.updated_at,u1_0.username from users u1_0 where u1_0.username=?
2025-09-04 14:52:57.420 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - User details loaded successfully for: admin
2025-09-04 14:52:57.420 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - JWT token validation successful for user: admin
2025-09-04 14:52:57.420 [http-nio-3002-exec-6] INFO  com.shopper.security.JwtAuthenticationFilter - Authentication set in SecurityContext for user: admin
2025-09-04 14:52:57.421 [http-nio-3002-exec-6] DEBUG org.springframework.security.web.FilterChainProxy - Secured GET /products
2025-09-04 14:52:57.421 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/api/products", parameters={}
2025-09-04 14:52:57.421 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping - Mapped to com.shopper.controller.ProductController#getAllProducts()
2025-09-04 14:52:57.421 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - 🔄 GET /api/products [User: admin] - Request started
2025-09-04 14:52:57.423 [http-nio-3002-exec-6] INFO  com.shopper.config.DevCycleLoggingHook - Feature flag evaluation completed for key: new-flow
2025-09-04 14:52:57.423 [http-nio-3002-exec-6] DEBUG com.shopper.service.FeatureFlagService - 🎛️ Feature flag 'new-flow' evaluated to: true for user: admin
2025-09-04 14:52:57.423 [http-nio-3002-exec-6] INFO  com.shopper.service.ProductService - ✅ New flow enabled for user: admin
2025-09-04 14:52:57.423 [http-nio-3002-exec-6] DEBUG com.shopper.service.DualDatabaseStrategyImpl - Secondary database not enabled, using primary for read operation
2025-09-04 14:52:57.424 [http-nio-3002-exec-6] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.description,p1_0.image_url,p1_0.name,p1_0.price,p1_0.stock_quantity,p1_0.updated_at from products p1_0 where p1_0.stock_quantity>0
2025-09-04 14:52:57.439 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-04 14:52:57.441 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor - Writing [[Product(id=65336362-3637-3733-2d33-3135312d3463, name=Wireless Bluetooth Headphones, description=Hi (truncated)...]
2025-09-04 14:52:57.444 [http-nio-3002-exec-6] INFO  com.shopper.interceptor.LoggingInterceptor - ✅ GET /api/products [User: admin] - 200 (23ms)
2025-09-04 14:52:57.445 [http-nio-3002-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
